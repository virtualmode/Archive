			Программа генерирования цветов

1. Позволить пользователю генерировать различные цвета при помощи трех полос
прокрутки, соответствующих трем базовым цветам.
2. Позиции и размеры элементов управления настраивать динамически в зависимости
от размеров главного окна.
3. Раскрасить полосы прокрутки в соответствии с цветами, которые они представляют.
4. Предоставить возможность управлять полосами прокрутки с клавиатуры,
включая перемещение между ними клавишами Tab и Shift-Tab.

				Рекомендации

1. Результирующий цвет показывается фоновым цветом клиентской области главного
окна приложения, которая видна в образце в правой части. В левой части окна
размещен статический элемент управления(SS_WHITERECT), поверх которого отрисованы
элементы управления, представляющие полосы прокрутки(SBS_VERT), их заголовки и
значения цветовых компонентов(SS_CENTER). Исходный цвет фона главного окна -
черный - устанавливается при регистрации класса окна:
	wcex.hbrBackground	= CreateSolidBrush(0L);
и соответствует нулевой позиции всех полос прокрутки.
2. Позиции и размеры управляющих элементов определяются в зависимости от размеров
окна при обработке сообщения WM_SIZE, которое поступает в функцию окна при его
инициализации и при изменении размеров окна. Параметр lParam сообщения WM_SIZE
содержит габариты окна:
		xClient = LOWORD(lParam);
		yClient = HIWORD(lParam);
Установить требуемые позицию и размер управляющего элемента можно функцией:
		MoveWindow(hChRect, 0, 0, xClient / 2, yClient, TRUE);
3. Цвета полос прокрутки задавать при обработке сообщения WM_CTLCOLORSCROLLBAR,
которое поступает в функцию родительского окна от полосы прокрутки при ее
отрисовке и содержит в lParam дескриптор полосы. Просто нужно возвратить кисть,
которой будет отрисована внутренняя часть полосы просмотра:
		return ((DWORD)hBrush[n]);
Определить конкретную полосу можно по ее индексу, который можно получить функцией:
		n = GetWindowLong((HWND)lParam, GWL_ID);
4. Чтобы полоса прокрутки могла иметь фокус ввода, нужно при создании
соответствующего окна добавить флажок WS_TABSTOP, а при получении сообщения
WM_SETFOCUS передавать фокус ввода полосе прокрутки функцией:
		SetFocus(hChScroll[nFocus]);
Для перемещения фокуса ввода с клавиатуры используется техника порождения
подклассов (на лекции). При этом стандартная функция окна может быть сохранена
для дальнейшего использования:
lpfnOldScr[n] = (WNDPROC)GetWindowLong(hChScroll[n], GWL_WNDPROC);
и замещена пользовательской функцией окна:
SetWindowLong(hChScroll[n], GWL_WNDPROC, (LONG)lpfnScrollProc);
Новая функция окна может предварительно обработать любые сообщения, после чего
обратиться к сохраненной стандартной функции окна:
return CallWindowProc(lpfnOldScr[n], hWnd, Message, wParam, lParam);
В нашем случае предварительно обрабатываются сообщения клавиши Tab.
5. Изменение фона главного окна производится при обработке сообщения WM_VSCROLL.
Вначале по значению параметра wParam вычисляются изменения соответствующего
компонента цвета. Затем устанавливается фон окна в соответствии с цветовыми
компонентами. Для этого:
- удаляется старая кисть фона:
DeleteObject((HBRUSH)GetClassLong(hWnd, GCL_HBRBACKGROUND));
- устанавливается новая:
SetClassLong(hWnd, GCL_HBRBACKGROUND,
	(LONG)CreateSolidBrush(RGB(color[0], color[1], color[2])));
- перерисовывается клиентская область главного окна:
InvalidateRect(hWnd, NULL, TRUE);
6. Итак, все вышесказанное можно структурировать следующим образом.
Создается новая функция окна для полос прокрутки ScrollProc.
В функции WinMain выполняется следующее.
	При регистрации класса окна устанавливается исходный цвет фона главного окна -
		черный.
	Сохраняется указатель на ScrollProc:
	WNDPROC lpfnScrollProc;
	...
	lpfnScrollProc = ScrollProc;
	При создании главного окна добавляется флажок WS_CLIPCHILDREN.
	Создаются окна всех элементов управления.
	Для полос прокрутки сохраняется старая функция окна и устанавливается новая.
	Настраивается диапазон полос прокрутки и устанавливается исходная нулевая
	позиция.
В функции главного окна обрабатываем сообщения:
	WM_CREATE: создаем три кисти для раскраски полос прокрутки
	WM_SIZE: определяем и устанавливаем позиции и размеры элементов управления,
		а также передаем фокус ввода главному окну.
	WM_SETFOCUS: передаем фокус ввода текущей полосе просмотра.
	WM_VSCROLL: определяем измененный цветовой компонент и меняем в соответствии
		с этим фон главного окна.
	WM_CTLCOLORSCROLLBAR: задаем кисть для раскраски полосы прокрутки.
	WM_DESTROY: освобождаем созданные объекты кистей:
		DeleteObject((HBRUSH)GetClassLong(hWnd, GCL_HBRBACKGROUND));
		for(n = 0; n < 3; DeleteObject(hBrush[n++]));
В функции ScrollProc обрабатываем сообщения:
	WM_KEYDOWN: если клавиша - Tab, передаем фокус ввода следующей (предыдущей)
		полосе прокрутки.
	WM_SETFOCUS: запоминаем текущую полосу прокрутки.
